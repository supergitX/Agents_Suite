# 🧾 Project Overview

This project demonstrates an automated code generation, review, optimization, and testing workflow using Gemini and Groq large language models (LLMs) within a GitHub Actions environment.  A user provides a prompt in `input.txt`, which is used to generate Python code. This generated code (`buggy_code.py`) is then automatically reviewed, and the review is used to create an optimized version (`reviewed_code.py`). Finally, tests are generated and run against the reviewed code.  The entire process is managed through GitHub Actions workflows.  The project also includes a documentation generation component using Gemini.

# ⚙️ Setup & Installation Instructions

1. **Clone the repository:**
   ```bash
   git clone <repository_url>
   ```

2. **Set up a virtual environment:**
   ```bash
   python3 -m venv .venv
   source .venv/bin/activate  # On Linux/macOS
   .venv\Scripts\activate  # On Windows
   ```

3. **Install dependencies:**
   ```bash
   pip install -r requirements.txt
   ```

4. **Set up environment variables:**
   Create a `.env` file in the root directory and add the following, replacing placeholders with your actual API keys:

   ```
   GEMINI_API_KEY=<your_gemini_api_key>
   GROQ_API_KEY=<your_groq_api_key>
   ```

# 🧩 Explanation of Key Modules, Classes, and Functions

The project uses several Python files and GitHub Actions workflows to automate the code lifecycle:

## Python Files

- **`agents/code_generator.py`**: Generates Python code based on a prompt from `input.txt` using Gemini.
- **`agents/reviewer.py`**: Reviews code using the Groq API and saves the review to a file.
- **`agents/optimizer.py`**: Uses the Groq API to provide an optimized version of the code based on the review.
- **`agents/tester.py`**: Generates and runs pytest test cases against the optimized code using the Groq API.
- **`doc-keeper.py`**: Generates documentation for the repository using Gemini.
- **`reviewed_code.py`**: The final, reviewed and optimized version of the generated code. (Generated file)
- **`buggy_code.py`**: The initially generated code from the prompt, intended for review. (Generated file)
- **`generated_code/generated.py`**: The code generated initially from input.txt. (Generated file)
- **`output/fixed_code.py`**: The reviewed and fixed code by the optimizer agent. (Generated file)
- **`output/review.txt`**: The review generated by the optimizer agent. (Generated file)
- **`test_reviewed_code.py`**: The test cases generated for the reviewed code (Generated file)


## GitHub Actions Workflows

- **`.github/workflows/generate-code.yml`**: Triggers on changes to `input.txt` and runs `agents/code_generator.py`.
- **`.github/workflows/code-review.yml`**: Triggers after code generation and runs `agents/reviewer.py`.
- **`.github/workflows/optimize.yml`**: Triggers after code review and runs `agents/optimizer.py`.
- **`.github/workflows/run-tests.yml`**: Triggers after optimization and runs `agents/tester.py`.
- **`.github/workflows/dockeeper.yml`**: Triggers on pushes to the main branch and runs `doc-keeper.py` to generate documentation.

# 🗂 Folder & File Structure with Descriptions

```
.
├── agents                  # Contains the core agent scripts
│   ├── code_generator.py    # Generates code from a prompt
│   ├── reviewer.py        # Reviews given code
│   ├── optimizer.py       # Optimizes code based on review
│   └── tester.py          # Generates and runs tests
├── generated_code         # Stores initially generated code (from the prompt)
│   └── generated.py
├── output                  # Stores outputs from the code optimizer agent
│   ├── fixed_code.py      # fixed code
│   └── review.txt         # review text
├── .github                # GitHub Actions workflows
│   └── workflows
│       ├── code-review.yml    # Code review workflow
│       ├── dockeeper.yml      # Documentation generation workflow
│       ├── generate-code.yml # Code generation workflow
│       ├── optimize.yml      # Code optimization workflow
│       └── run-tests.yml     # Test running workflow
├── input.txt               # Text file containing the prompt for code generation
├── buggy_code.py           # Generated code file (from the prompt)
├── reviewed_code.py        # Generated code file (after review and optimization)
├── test_reviewed_code.py # generated test suite to check reviewed code
├── README.md              # Project description
└── requirements.txt        # Project dependencies
```

# 🔧 How to Use

1. **Provide a prompt:** Write your code generation prompt in `input.txt`.
2. **Commit and push:** Commit the changes to `input.txt` to the `main` branch. This will trigger the GitHub Actions workflows to generate, review, optimize, and test the code.
3. **View results:**
    - The generated code will be in `generated_code/generated.py` and `buggy_code.py`.
    - The review will be available in the `reviews/` directory (created by the workflow).
    - The optimized code will be in `reviewed_code.py` and `output/fixed_code.py`.
    - Test results and logs will be in the `test_generation.log` file and workflow logs.
    - The generated documentation will be in `DOCUMENTATION.md`.


# 🤝 Contribution Guidelines (if applicable)

Contributions are welcome! If you'd like to contribute to this project, please fork the repository and submit a pull request.  Ensure your code follows PEP 8 style guidelines and includes appropriate docstrings.

# 🧪 Testing & Debugging Instructions

The `agents/tester.py` script generates and runs tests using `pytest`. The output of the tests, including any errors, is written to `test_generation.log`.  To run tests locally:

1. Ensure `reviewed_code.py` and `test_reviewed_code.py` exist (they are generated by the workflows).
2. Run `pytest test_reviewed_code.py -v --tb=long`.

For debugging other parts of the system, examine the logs generated by the GitHub Actions workflows or add print statements for local debugging.


## Updated Code with Docstrings (All functions in the provided code already have fairly comprehensive docstrings.  This section just reproduces the key files with their docstrings.)

**`agents/code_generator.py`**:

```python
# ... (rest of the file as provided in the prompt)
```

**`agents/reviewer.py`**:

```python
# ... (rest of the file as provided in the prompt)
```

**`agents/optimizer.py`**:

```python
# ... (rest of the file as provided in the prompt)
```

**`agents/tester.py`**:

```python
# ... (rest of the file as provided in the prompt)
```


**`reviewed_code.py`**:

```python
# ... (rest of the file as provided in the prompt)
```

**`doc-keeper.py`**:

```python
# ... (rest of the file as provided in the prompt)
```


This revised documentation provides a more comprehensive guide for developers, addressing all requested points and offering improved clarity and detail. It's much more helpful for someone trying to understand, set up, and work with the project.